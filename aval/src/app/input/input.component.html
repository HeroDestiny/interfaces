<div class="container">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <form [formGroup]="estudanteForm" (ngSubmit)="addDado()">
        <div class="mb-3">
          <label for="matricula" class="form-label">Matrícula</label>
          <input type="text" id="matricula" class="form-control" formControlName="matricula" placeholder="Digite a matrícula" />
          <div *ngIf="estudanteForm.get('matricula')!.invalid && estudanteForm.get('matricula')!.touched" class="text-danger">
            Matrícula é obrigatória.
          </div>
        </div>
        <div class="mb-3">
          <label for="nome" class="form-label">Nome</label>
          <input type="text" id="nome" class="form-control" formControlName="nome" placeholder="Digite o nome" />
          <div *ngIf="estudanteForm.get('nome')!.invalid && estudanteForm.get('nome')!.touched" class="text-danger">
            Nome é obrigatório.
          </div>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">E-mail</label>
          <input type="email" id="email" class="form-control" formControlName="email" placeholder="Digite o e-mail" />
          <div *ngIf="estudanteForm.get('email')!.invalid && estudanteForm.get('email')!.touched" class="text-danger">
            E-mail é obrigatório e deve ser válido.
          </div>
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="estudanteForm.invalid">Cadastrar</button>
      </form>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-12">
      <table class="table table-striped table-bordered">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Matrícula</th>
            <th scope="col">Nome</th>
            <th scope="col">E-mail</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let dado of dados" appHighlight="lightblue">
            <td>{{ dado.matricula }}</td>
            <td>{{ dado.nome }}</td>
            <td>{{ dado.email }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <form [formGroup]="postForm" (ngSubmit)="addPost()">
        <div class="mb-3">
          <label for="title" class="form-label">Título</label>
          <input type="text" id="title" class="form-control" formControlName="title" placeholder="Digite o título" />
          <div *ngIf="postForm.get('title')?.invalid && postForm.get('title')?.touched" class="text-danger">
            Título é obrigatório.
          </div>
        </div>
        <div class="mb-3">
          <label for="description" class="form-label">Descrição</label>
          <textarea id="description" class="form-control" formControlName="description" placeholder="Digite a descrição"></textarea>
          <div *ngIf="postForm.get('description')?.invalid && postForm.get('description')?.touched" class="text-danger">
            Descrição é obrigatória.
          </div>
        </div>
        <div class="mb-3">
          <label for="estudanteId" class="form-label">ID do Estudante</label>
          <input type="text" id="estudanteId" class="form-control" formControlName="estudanteId" placeholder="Digite o ID do estudante" />
          <div *ngIf="postForm.get('estudanteId')?.invalid && postForm.get('estudanteId')?.touched" class="text-danger">
            ID do Estudante é obrigatório.
          </div>
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="postForm.invalid">Cadastrar Post</button>
      </form>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-12">
      <table class="table table-striped table-bordered">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Título</th>
            <th scope="col">Descrição</th>
            <th scope="col">Data e Hora</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let post of posts">
            <td>{{ post.title }}</td>
            <td>{{ post.description }}</td>
            <td>{{ post.dataHoraFormatada }}</td>
            <td>
              <button (click)="deletePost(post.id)" class="btn btn-danger">Excluir</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>

